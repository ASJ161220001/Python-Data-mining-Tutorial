# 统计学的Python实现-014：几何平均数

> **作者**：长行
>
> **时间**：2019.03.13

## 统计学解释

几何平均数：几何平均数（geometric mean）是衡量样本集中趋势的统计量，其值为该组数据所有n个变量值的乘积的n次方根。其计算公式如下：
$$
G=\sqrt[n]{{X_1}\times{X_2}\times...\times{X_n}}=\sqrt[n]{\prod_{i=1}^n{X_i}}
$$
在一些情况下，我们还会使用加权几何平均数，其公式为：
$$
G=\sqrt[\sum^{n}_{i=1}{f}]{{X_1}^{f_1}\times{X_2}^{f_2}\times...\times{X_n}^{f_n}}=\sqrt[\sum^{n}_{i=1}{f}]{\prod_{i=1}^n{{X_i}^{fi}}}
$$
 下面我们通过几个例子来熟悉几何平均数的特点：

###### 例1：几何平均数受极端值的影响相较于算数平均数更小

数据 [1,2,3,4,5,6,7,8,100] 的几何平均数为5.4193，算数平均数为15.1111

###### 例2：如果变量值中有负值，则几何平均数的结果可能为虚数或负数

数据 [-1,2,3,4,5,6,7] 的几何平均数为(3.045+1.4665i)，算数平均数为3.7142

###### 例3：如果变量值中包含0，则几何平均数为0

数据 [0,1,2,3,4,5,6,7] 的几何平均数为0，算数平均数为3.5

## 实现代码

```python
data_test=[1,2,3,4,5,6,7]  # 定义测试数据
def geometric_mean(data):  # 计算几何平均数
    total=1
    for i in data:
        total*=i #等同于total=total*i
    return pow(total,1/len(data))
print(geometric_mean(data_test))
```

结果

```
3.3800151591412964
```

## 实际应用

1.几何平均数适用于计算比例关系的数据，例如合格率等。

2.几何平均数更适合计算各变量值之间是相乘关系的数据，例如增长速度、利息等。